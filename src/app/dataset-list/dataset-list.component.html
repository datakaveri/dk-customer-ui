<div class="content-container">
    <div class="para-div" *ngIf="show_data">
        <p *ngIf="!(searchQuery.tags.length == 0 && searchQuery.text == '')">
            <span>{{ results.count }}</span>
            <span> Dataset(s) for </span>
            <span>{{ search_text }}</span>
            <span> matching search criteria</span>
        </p>
        <p *ngIf="searchQuery.tags.length == 0 && searchQuery.text == ''">
            <span>{{ results.count }}</span>
            <span> Dataset(s) Available </span>
        </p>
    </div>
    <div class="results-div">
        <div class="box-style" *ngFor="let resource of results?.items">
            <h4>
                {{ resource.name }}
                <img src="assets/locked.png" *ngIf="resource.resourceAuthControlLevel != 'OPEN'">
                <img src="assets/unlocked.png" *ngIf="resource.resourceAuthControlLevel == 'OPEN'">
            </h4>
            <p>
                <span>{{texts.resource_groups}} ID: </span>{{ resource.id }}
                <img src="assets/copy.png" title="Copy {{texts.resource_groups}} ID" (click)="copy(resource.id)">
            </p>
            <p>
                <span>Description: </span>{{ resource.description }}
            </p>
            <p>
                <span>{{texts.providers}}: </span>{{ resource.provider.description }}
            </p>
           
            <p>
                <span>{{texts.resource_items}}s Count: </span>{{ resource.resource_items }}
            </p>
            <a (click)="getResourceItems(resource)">View Details</a>
            <a>Get Latest Data</a>
        </div>
    </div>
</div>
<div class="filder_popup" *ngIf="show_filter">
    <div class="header">
        FILTERS
        <img src="assets/cross.png" (click)="close()">
    </div>
    <h4>
        <img src="assets/filter.png">
        Filter by Tag(s)
    </h4>
    <div class="scroll_div">
        <ul>
            <li *ngFor="let tag of tags; let i = index;" (click)="toggle_tag(i)">
                <img src="assets/unchecked.png" *ngIf="!tag.flag">
                <img src="assets/checked.png" *ngIf="tag.flag">
                {{tag.tag}} ({{tag.count}} {{texts.resource_groups}})
            </li>
        </ul>
    </div>
    <h4>
        <img src="assets/filter.png">
        Filter by Provider(s)
    </h4>
    <div class="scroll_div">
        <ul>
            <li *ngFor="let provider of providers; let i = index;" (click)="toggle_provider(i)">
                <img src="assets/unchecked.png" *ngIf="!provider.flag">
                <img src="assets/checked.png" *ngIf="provider.flag">
                {{provider.name}}
            </li>
        </ul>
    </div>
    <div class="button_div">
        <button class="side_button" (click)="clear()">Clear All Filters</button>
        <button class="main_button" (click)="apply()">Apply Filters</button>
    </div>
</div>